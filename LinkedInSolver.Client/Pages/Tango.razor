@page "/tango"
@using LinkedInSolver.Client.Models
@using LinkedInSolver.Client.Components

<PageTitle>Tango - LinkedIn Puzzles</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large" Class="mt-4">
    <MudBreadcrumbs Items="_breadcrumbItems" Class="mb-4"></MudBreadcrumbs>
    
    <div class="d-flex align-center mb-4">
        <img src="tango.svg" alt="Tango" style="width: 48px; height: 48px; margin-right: 16px;" />
        <MudText Typo="Typo.h4" GutterBottom="false">
            Tango
        </MudText>
    </div>
    
    <PuzzleGrid CurrentGrid="grid" 
                OnGridChanged="OnGridChanged" 
                OnCellClicked="OnCellClicked"
                PuzzleName="Tango" />
</MudContainer>

@code {
    [Inject] private NavigationManager Navigation { get; set; } = default!;

    private TangoGrid grid = new TangoGrid(8);

    private List<BreadcrumbItem> _breadcrumbItems = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Home", href: "/", icon: Icons.Material.Filled.Home),
        new BreadcrumbItem("Tango", href: null, disabled: true)
    };

    private void OnGridChanged(Grid newGrid)
    {
        // Create a new TangoGrid with the same size as the newGrid
        grid = new TangoGrid(newGrid.Size);
    }

    private void OnCellClicked((int row, int col) cellPosition)
    {
        // Handle cell click specific to Tango puzzle if needed
        // For now, the grid component handles the toggle
    }
}
